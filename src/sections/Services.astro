---
import content from "../lib/content";
import ArrowLineIcon from "../icons/ArrowLineIcon.astro";
---

<section style="background-image: url(/20.jpg);" class="" id="SERVICES">
  <div
    class="w-full h-full bg-carbon/30 py-20 flex flex-col gap-20 px-5 hover:bg-carbon/50 transition"
  >
    <h1 class="text-center text-5xl lg:text-7xl uppercase text-white font-bold">
      Servicios
    </h1>
    <div class="flex flex-col gap-5 items-center max-w-7xl m-auto">
      {
        content.services.map((s) => (
          <div class="flex items-center px-10 justify-between bg-carbon/90 text-white py-5 gap-10 min-h-52 hover:bg-carbon transition-all cardservice border border-white/20">
            <div class="grow flex flex-col gap-2">
              <h1 class="xl:text-2xl text-lg font-medium text-sapphire">
                {s.title}
              </h1>
              <p class="xl:text-lg">{s.description}</p>
            </div>

            <button class="transition duration-300 p-2.5 rounded-full hidden xl:inline">
              <ArrowLineIcon sizes="30" />
            </button>
          </div>
        ))
      }
    </div>
  </div>
</section>

<style is:inline>
  button.activeButton {
    border-radius: 50%;
    transform: rotate(-45deg);
    color: #ff6200;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const servicesCard = document.querySelectorAll(".cardservice");

    servicesCard.forEach((c, i) => {
      c.addEventListener("mouseenter", (event) => {
        const target = event.target as HTMLElement;
        const button = target.querySelector("button");
        button?.classList.add("activeButton");
      });

      c.addEventListener("mouseleave", (event) => {
        const target = event.target as HTMLElement;
        const button = target.querySelector("button");
        button?.classList.remove("activeButton");
      });
    });
  });
</script>
